<!DOCTYPE html>
<html>
<head>
<title>Mambakkadans Steels & Cements</title>

<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: #e9ecef;
    margin: 0;
    padding: 40px;
}

.container {
    background: white;
    padding: 40px;
    max-width: 1100px;
    margin: auto;
    border-radius: 8px;
    box-shadow: 0px 8px 25px rgba(0,0,0,0.08);
}

h1 {
    margin: 0;
    font-size: 28px;
    letter-spacing: 1px;
}

.subtitle {
    color: #555;
    margin-bottom: 30px;
}

.section {
    margin-bottom: 20px;
}

input, select {
    padding: 8px;
    margin: 5px 10px 5px 0;
    border-radius: 4px;
    border: 1px solid #ccc;
}

button {
    padding: 10px 18px;
    margin: 5px 5px 5px 0;
    border: none;
    border-radius: 4px;
    background: #1c1f26;
    color: white;
    cursor: pointer;
}

button:hover {
    background: #000;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

th {
    background: #1c1f26;
    color: white;
    padding: 12px;
}

td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
}

.totals {
    margin-top: 25px;
    text-align: right;
    font-size: 18px;
}
</style>
</head>

<body>

<div class="container">

<h1>MAMBAKKADANS STEELS & CEMENTS</h1>
<div class="subtitle">GP Steel Quotation System</div>

<div class="section">
<label>Customer Name:</label>
<input type="text" id="customer">

<label>Date:</label>
<input type="date" id="date">
</div>

<div class="section">
<label>Universal Rate (₹/kg):</label>
<input type="number" id="rate" value="74">

<label>Freight (₹):</label>
<input type="number" id="freight" value="0">
</div>

<div class="section">
<label>Size:</label>
<select id="size"></select>

<label>Gauge:</label>
<select id="gauge">
<option value="16" selected>16G</option>
<option value="18">18G</option>
</select>

<label>Quantity:</label>
<input type="number" id="qty" min="1">

<button onclick="addItem()">Add Item</button>
<button onclick="resetBill()">Reset</button>
</div>

<table>
<thead>
<tr>
<th>Size</th>
<th>Gauge</th>
<th>Qty</th>
<th>Wt/No</th>
<th>Total Wt</th>
<th>Rate</th>
<th>Amount</th>
</tr>
</thead>
<tbody id="billBody"></tbody>
</table>

<div class="totals">
<p id="totalWeight">Total Weight: 0 kg</p>
<p id="finalTotal"><b>Total Amount: ₹0</b></p>
</div>

<br>
<button onclick="saveQuotation()">Save Quotation (PDF)</button>

</div>

<script>

// ===== COMPLETE GP DATA =====
const gpData = {
"1/2 * 1/2": {16:3.8,18:3.2},
"3/4 * 3/4": {16:4.8,18:4.0},
"1 * 1": {16:6.2,18:5.2},
"1 1/4 * 1 1/4": {16:7.9,18:null},
"1 1/2 * 1 1/2": {16:9.8,18:null},
"2 * 2": {16:12.3,18:null},
"3 * 3": {16:19.0,18:null},
"4 * 4": {16:38.0,18:null},
"1 * 10": {16:4.4,18:null},
"1 1/2 * 10": {16:6.2,18:null},
"1 1/2 * 3/4": {16:7.6,18:null},
"2 * 1": {16:9.5,18:8.5},
"2 1/2 * 1 1/2": {16:13.0,18:12.5},
"3 * 1": {16:12.8,18:11.0},
"3 * 1 1/2": {16:15.3,18:12.8},
"4 * 1": {16:15.1,18:null},
"4 * 2": {16:19.0,18:null}
};

const sizeDropdown = document.getElementById("size");
for (let size in gpData) {
let option = document.createElement("option");
option.value = size;
option.text = size;
sizeDropdown.add(option);
}

let grandWeight = 0;
let grandTotal = 0;

function addItem(){

const size = document.getElementById("size").value;
const gauge = document.getElementById("gauge").value;
const qty = parseFloat(document.getElementById("qty").value);
const rate = parseFloat(document.getElementById("rate").value);

if(!qty || qty<=0){ alert("Enter valid quantity"); return;}

let weightPerNo = gpData[size][gauge];
if(!weightPerNo){ weightPerNo = gpData[size][16]; }

const totalWeight = weightPerNo * qty;
const amount = totalWeight * rate;

grandWeight += totalWeight;
grandTotal += amount;

document.getElementById("billBody").innerHTML += `
<tr>
<td>${size}</td>
<td>${gauge}G</td>
<td>${qty}</td>
<td>${weightPerNo}</td>
<td>${totalWeight.toFixed(2)}</td>
<td>${rate}</td>
<td>${amount.toFixed(2)}</td>
</tr>
`;

updateTotals();
document.getElementById("qty").value="";
}

function updateTotals(){
const freight = parseFloat(document.getElementById("freight").value)||0;
document.getElementById("totalWeight").innerText =
"Total Weight: " + grandWeight.toFixed(2) + " kg";

document.getElementById("finalTotal").innerHTML =
"<b>Total Amount: ₹" + (grandTotal+freight).toFixed(2) + "</b>";
}

function resetBill(){
grandWeight=0;
grandTotal=0;
document.getElementById("billBody").innerHTML="";
updateTotals();
}

function saveQuotation(){

const customer = document.getElementById("customer").value;
const date = document.getElementById("date").value;
const freight = parseFloat(document.getElementById("freight").value)||0;

let content = `
MAMBAKKADANS STEELS & CEMENTS

Customer: ${customer}
Date: ${date}

------------------------------------

`;

document.querySelectorAll("#billBody tr").forEach(row=>{
content += row.innerText + "\n";
});

content += `
------------------------------------
Total Weight: ${grandWeight.toFixed(2)} kg
Total Amount: ₹${(grandTotal+freight).toFixed(2)}
`;

const blob = new Blob([content], { type: "application/pdf" });
const link = document.createElement("a");
link.href = URL.createObjectURL(blob);
link.download = "Quotation.pdf";
link.click();
}

</script>

</body>
</html>
